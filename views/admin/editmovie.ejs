<%- include("../partials/headerAdmin.ejs") %>



        <div class="col-md-7 col-lg-8">
            <h4 class="mb-3">Movie Infomation</h4>
            <form class="needs-validation" novalidate action="/admin/<%= movie._id %>?_method=PUT" method="post" enctype="multipart/form-data">
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="firstName" class="form-label">Movie name</label>
                        <input type="text" class="form-control" id="movieName" name="movie[name]"
                            placeholder="<%= movie.name %>" value="<%= movie.name %>" required>
                        <div class="invalid-feedback">
                            Valid first name is required.
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label for="lastName" class="form-label">Date</label>
                        <input type="text" class="form-control" id="Date" name="movie[date]"
                            placeholder="<%= movie.date %>" value="<%= movie.date %>" required>
                        <div class="invalid-feedback">
                            Valid last name is required.
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label for="Category" class="form-label">Category</label>
                        <select class="form-select" id="category" required name="movie[category]">
                            <option class="bg-dark" value="<%= movie.category %>"><%= movie.category %></option>
                            <option class="bg-dark">None</option>
                            <option class="bg-dark">Popular</option>
                        </select>
                        <div class="invalid-feedback">
                            Please Choose a category.
                        </div>
                    </div>

                    <div class="col-md-5">
                        <label for="state" class="form-label">Status</label>
                        <select class="form-select" id="Status" required name="movie[status]">
                            <option class="bg-dark" value="<%= movie.status %>"><%= movie.status %></option>
                            <option class="bg-dark">Coming Soon</option>
                            <option class="bg-dark">Now Showing</option>
                        </select>
                        <div class="invalid-feedback">
                            Please Choose a Status.
                        </div>
                    </div>

                    <div class="col-md-3">
                        <label for="runtime" class="form-label">Runtime</label>
                        <input type="text" class="form-control" id="time" name="movie[time]"
                            placeholder="<%= movie.time %>" value="<%= movie.time %>" required>
                        <div class="invalid-feedback">
                            Runtime required.
                        </div>
                    </div>
                </div>

                <div class="col-sm-6">
                    <label for="image" class="form-label">Poster</label> 
                    <input type="file" class="form-control" id="image" name="image" placeholder="<%= movie.image %>" value="<%= movie.image %>"
                        accept="image/*" required>
                        <img src="<%= movie.image %>" height = '300px'>
                    <div class="invalid-feedback">
                        image required.
                    </div>
                </div>

                <div class="col-sm-6">
                    <label for="runtime" class="form-label">Trailer</label>
                    <input type="file" class="form-control" id="trailer" name="video" placeholder="<%= movie.video %>" value="<%= movie.video %>"
                        accept="video/*" required>
                        <video width="500" controls>
                            <source src="<%= movie.video %>" type="video/mp4">
                        </video>
                    <div class="invalid-feedback">
                        Trailer required.
                    </div>
                </div>

                <div class="col-12">
                    <label for="synopsis" class="form-label">Synopsis</label>
                    <textarea type="text" class="form-control" id="director" name="movie[synopsis]"
                            placeholder="<%= movie.synopsis %>" required>
                            <%= movie.synopsis %></textarea>
                        <div class="invalid-feedback">
                            Runtime required.
                        </div>
                </div>

                <div class="row g-3">

                    <div class="col-12">
                        <label for="Director" class="form-label">Director</label>
                        <input type="text" class="form-control" id="synopsis" name="movie[director]"
                            placeholder="<%= movie.director %>" value="<%= movie.director %>" required>
                        <div class="invalid-feedback">
                            Runtime required.
                        </div>
                    </div>

                </div>

                <hr class="my-4">

                <button class="w-100 btn btn-primary btn-lg" type="submit">Submit</button>
                <a class="container d-flex flex-wrap justify-content-center" href="/admin">Go back</a>
            </form>
        </div>
   
<%- include("../partials/footerAdmin.ejs") %>